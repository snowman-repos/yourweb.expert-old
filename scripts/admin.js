/* darrylsnow : 0.1.0 : Fri Dec 05 2014 21:44:12 GMT+0800 (CST) */!function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e){var t,n,r,o;e("es6-promise").polyfill(),e("fetch"),t=e("cookies-js"),o=function(){return window.location.href="/"},n=t.get("darrylsnow"),n?(r=JSON.parse(t.get("darrylsnow")),r&&r.token?fetch("http://localhost:8000/api/0.1.0/users",{method:"get",headers:{Authorization:"Bearer "+r.token}}).then(function(e){return console.log(e)}):o()):o()},{"cookies-js":2,"es6-promise":3,fetch:4}],2:[function(e,t,n){!function(e,r){"use strict";var o=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,r){return 1===arguments.length?t.get(e):t.set(e,n,r)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t.defaults={path:"/",secure:!1},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[t._cacheKeyPrefix+e]},t.set=function(e,n,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(n===r?-1:o.expires),t._document.cookie=t._generateCookieString(e,n,o),t},t.expire=function(e,n){return t.set(e,r,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==r?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){switch(n=n||new Date,typeof e){case"number":e=new Date(n.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},o=e?e.split("; "):[],i=0;i<o.length;i++){var s=t._getKeyValuePairFromCookieString(o[i]);n[t._cacheKeyPrefix+s.key]===r&&(n[t._cacheKeyPrefix+s.key]=s.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},i="object"==typeof e.document?o(e):o;"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof n?("object"==typeof t&&"object"==typeof t.exports&&(n=t.exports=i),n.Cookies=i):e.Cookies=i}("undefined"==typeof window?this:window)},{}],3:[function(e,t){(function(e,n){(function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(){}function u(){return function(){e.nextTick(p)}}function a(){var e=0,t=new L(p),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=p,function(){e.port2.postMessage(0)}}function f(){return function(){setTimeout(p,1)}}function p(){for(var e=0;q>e;e+=2){var t=B[e],n=B[e+1];t(n),B[e]=void 0,B[e+1]=void 0}q=0}function h(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(t){return Y.error=t,Y}}function w(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function y(e,t,n){M(function(e){var r=!1,o=w(n,t,function(n){r||(r=!0,t!==n?g(e,n):E(e,n))},function(t){r||(r=!0,x(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,x(e,o))},e)}function _(e,t){t._state===J?E(e,t._result):e._state===V?x(e,t._result):k(t,void 0,function(t){g(e,t)},function(t){x(e,t)})}function v(e,t){if(t.constructor===e.constructor)_(e,t);else{var n=m(t);n===Y?x(e,Y.error):void 0===n?E(e,t):o(n)?y(e,t,n):E(e,t)}}function g(e,t){e===t?x(e,d()):r(t)?v(e,t):E(e,t)}function b(e){e._onerror&&e._onerror(e._result),j(e)}function E(e,t){e._state===H&&(e._result=t,e._state=J,0===e._subscribers.length||M(j,e))}function x(e,t){e._state===H&&(e._state=V,e._result=t,M(b,e))}function k(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+J]=n,o[i+V]=r,0===i&&e._state&&M(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?C(n,r,o,i):o(i);e._subscribers.length=0}}function P(){this.error=null}function T(e,t){try{return e(t)}catch(n){return G.error=n,G}}function C(e,t,n,r){var i,s,u,a,c=o(n);if(c){if(i=T(n,r),i===G?(a=!0,s=i.error,i=null):u=!0,t===i)return void x(t,l())}else i=r,u=!0;t._state!==H||(c&&u?g(t,i):a?x(t,s):e===J?E(t,i):e===V&&x(t,i))}function A(e,t){try{t(function(t){g(e,t)},function(t){x(e,t)})}catch(n){x(e,n)}}function O(e,t,n,r){this._instanceConstructor=e,this.promise=new e(h,r),this._abortOnReject=n,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):x(this.promise,this._validationError())}function S(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(e,t){this._id=Q++,this._label=t,this._state=void 0,this._result=void 0,this._subscribers=[],h!==e&&(o(e)||S(),this instanceof R||D(),A(this,e))}var U;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var I,N=U,q=(Date.now||function(){return(new Date).getTime()},Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return s.prototype=e,new s},0),M=function(e,t){B[q]=e,B[q+1]=t,q+=2,2===q&&I()},K="undefined"!=typeof window?window:{},L=K.MutationObserver||K.WebKitMutationObserver,F="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,B=new Array(1e3);I="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?u():L?a():F?c():f();var H=void 0,J=1,V=2,Y=new P,G=new P;O.prototype._validateInput=function(e){return N(e)},O.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},O.prototype._init=function(){this._result=new Array(this.length)};var Z=O;O.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,r=0;t._state===H&&e>r;r++)this._eachEntry(n[r],r)},O.prototype._eachEntry=function(e,t){var n=this._instanceConstructor;i(e)?e.constructor===n&&e._state!==H?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(n.resolve(e),t):(this._remaining--,this._result[t]=this._makeResult(J,t,e))},O.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===H&&(this._remaining--,this._abortOnReject&&e===V?x(r,n):this._result[t]=this._makeResult(e,t,n)),0===this._remaining&&E(r,this._result)},O.prototype._makeResult=function(e,t,n){return n},O.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,function(e){n._settledAt(J,t,e)},function(e){n._settledAt(V,t,e)})};var $=function(e,t){return new Z(this,e,!0,t).promise},z=function(e,t){function n(e){g(i,e)}function r(e){x(i,e)}var o=this,i=new o(h,t);if(!N(e))return x(i,new TypeError("You must pass an array to race.")),i;for(var s=e.length,u=0;i._state===H&&s>u;u++)k(o.resolve(e[u]),void 0,n,r);return i},W=function(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var r=new n(h,t);return g(r,e),r},X=function(e,t){var n=this,r=new n(h,t);return x(r,e),r},Q=0,et=R;R.all=$,R.race=z,R.resolve=W,R.reject=X,R.prototype={constructor:R,then:function(e,t,n){var r=this,o=r._state;if(o===J&&!e||o===V&&!t)return this;r._onerror=null;var i=new this.constructor(h,n),s=r._result;if(o){var u=arguments[o-1];M(function(){C(o,i,u,s)})}else k(r,i,e,t);return i},"catch":function(e,t){return this.then(null,e,t)}};var tt=function(){var e;e="undefined"!=typeof n?n:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),o(t)}();t||(e.Promise=et)},nt={Promise:et,polyfill:tt};"function"==typeof define&&define.amd?define(function(){return nt}):"undefined"!=typeof t&&t.exports?t.exports=nt:"undefined"!=typeof this&&(this.ES6Promise=nt)}).call(this)}).call(this,e("+7ZJp0"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"+7ZJp0":5}],4:[function(){!function(){"use strict";function e(t){this.map={};var n=this;t instanceof e?t.forEach(function(e,t){t.forEach(function(t){n.append(e,t)})}):t&&Object.getOwnPropertyNames(t).forEach(function(e){n.append(e,t[e])})}function t(e){return e.bodyUsed?Promise.reject(new TypeError("Body already consumed")):void(e.bodyUsed=!0)}function n(){return this._body=null,this.bodyUsed=!1,this.arrayBuffer=function(){throw new Error("Not implemented yet")},this.blob=function(){var e=t(this);return e?e:Promise.resolve(new Blob([this._body]))},this.formData=function(){var e=t(this);return e?e:Promise.resolve(i(this._body))},this.json=function(){var e=t(this);if(e)return e;var n=this._body;return new Promise(function(e,t){try{e(JSON.parse(n))}catch(r){t(r)}})},this.text=function(){var e=t(this);return e?e:Promise.resolve(this._body)},this}function r(e){var t=e.toUpperCase();return a.indexOf(t)>-1?t:e}function o(t,n){n=n||{},this.url=t,this._body=n.body,this.credentials=n.credentials||null,this.headers=new e(n.headers),this.method=r(n.method||"GET"),this.mode=n.mode||null,this.referrer=null}function i(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function s(t){var n=new e,r=t.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var t=e.trim().split(":"),r=t.shift().trim(),o=t.join(":").trim();n.append(r,o)}),n}function u(e,t){this._body=e,this.type="default",this.url=null,this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}if(!window.fetch){e.prototype.append=function(e,t){var n=this.map[e];n||(n=[],this.map[e]=n),n.push(t)},e.prototype["delete"]=function(e){delete this.map[e]},e.prototype.get=function(e){var t=this.map[e];return t?t[0]:null},e.prototype.getAll=function(e){return this.map[e]||[]},e.prototype.has=function(e){return this.map.hasOwnProperty(e)},e.prototype.set=function(e,t){this.map[e]=[t]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.map).forEach(function(n){e(n,t.map[n])})};var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];o.prototype.fetch=function(){var e=this;return new Promise(function(t,n){var r=new XMLHttpRequest;r.onload=function(){var e=1223===r.status?204:r.status;if(100>e||e>599)return void n(new TypeError("Network request failed"));var o={status:e,statusText:r.statusText,headers:s(r)};t(new u(r.responseText,o))},r.onerror=function(){n(new TypeError("Network request failed"))},r.open(e.method,e.url),e.headers.forEach(function(e,t){t.forEach(function(t){r.setRequestHeader(e,t)})}),r.send(void 0===e._body?null:e._body)})},n.call(o.prototype),n.call(u.prototype),window.fetch=function(e,t){return new o(e,t).fetch()}}}()},{}],5:[function(e,t){function n(){}var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}]},{},[1]);