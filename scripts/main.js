/* darrylsnow : 0.1.0 : Thu Dec 04 2014 18:57:24 GMT+0800 (CST) */!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){var n;t("es6-promise").polyfill(),t("fetch"),n=function(){function t(){this.el={activity:document.getElementsByClassName("availability-activity")[0],loading:document.querySelectorAll(".availability .loading")[0],spinner:document.querySelectorAll(".availability .loading-spinner")[0]},this.activity="nothing",this.updateUI(),this.getActivity()}return t.prototype.getActivity=function(){return fetch("http://darrylsnow-darrylsnow.rhcloud.com/api/0.1.0/availability").then(function(t){return function(e){var n;return n=JSON.parse(e._body),t.activity=aavailability.activity,t.updateUI(),t.hideLoader()}}(this))},t.prototype.updateUI=function(){return this.el.activity.innerText=this.activity},t.prototype.hideLoader=function(){return this.el.loading.classList.add("loaded"),setTimeout(function(t){return function(){return t.el.spinner.remove()}}(this),400)},t}(),e.exports=new n},{"es6-promise":14,fetch:15}],2:[function(t,e){var n;t("es6-promise").polyfill(),t("fetch"),n=function(){function t(){this.el={title:document.getElementsByClassName("js-blog-post-title")[0],date:document.getElementsByClassName("js-blog-post-date")[0],body:document.getElementsByClassName("js-blog-post-body")[0],url:document.getElementsByClassName("js-blog-post-url")[0],button:document.getElementsByClassName("js-blog-post-button")[0],loading:document.querySelectorAll(".blog-left .loading")[0],spinner:document.querySelectorAll(".blog-left .loading-spinner")[0]},this.post={title:0,date:0,body:0,url:0},this.getArticle()}return t.prototype.getArticle=function(){return fetch("http://darrylsnow-darrylsnow.rhcloud.com/api/0.1.0/blog").then(function(t){return function(e){var n;return n=JSON.parse(e._body),t.post={title:n.title,date:n.date,body:n.body,url:n.url},t.updateUI(),t.hideLoader()}}(this))},t.prototype.updateUI=function(){var t,e,n,r,i;return t=new Date(this.post.date),e=t.getDate(),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=r[t.getMonth()],i=t.getFullYear(),this.el.title.innerText=this.post.title,this.el.date.innerText=e+" "+n+", "+i,this.el.date.setAttribute("content",t),this.el.body.innerHTML=this.post.body,this.el.button.setAttribute("href",this.post.url),this.post.url.setAttribute("content",this.post.url)},t.prototype.hideLoader=function(){return this.el.loading.classList.add("loaded"),setTimeout(function(t){return function(){return t.el.spinner.remove()}}(this),400)},t}(),e.exports=new n},{"es6-promise":14,fetch:15}],3:[function(t,e){var n;n=function(){function t(){this.el={day:document.getElementsByClassName("calendar-day")[0],date:document.getElementsByClassName("calendar-date")[0],monthandyear:document.getElementsByClassName("calendar-monthandyear")[0]},this.updateUI(this.getDate(8))}return t.prototype.getDate=function(t){var e,n,r,i,o,s;return e=new Date,s=e.getTime()+6e4*e.getTimezoneOffset(),o=new Date(s+36e5*t),r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],n={day:r[o.getDay()],date:o.getDate(),month:i[o.getMonth()],year:o.getFullYear()}},t.prototype.updateUI=function(t){return this.el.day?(this.el.day.innerText=t.day,this.el.date.innerText=t.date,this.el.monthandyear.innerText=t.month+", "+t.year):void 0},t}(),e.exports=new n},{}],4:[function(t,e){var n,r;r=t("hammerjs"),n=function(){function t(t,e){var n,i;this.carousel=t,this.carouselItems=this.carousel.getElementsByClassName("carousel-item"),this.numberOfItems=this.carouselItems.length,this.setupPagination(),this.currentItem=0,this.goto(this.currentItem),this.time=e||5e3,this.timer=void 0,this.carousel.classList.contains("js-carousel--automatic")&&this.startTimer(this.time,0),i={dragLockToAxis:!0,dragBlockHorizontal:!0},navigator.userAgent.indexOf(!1)&&(n=new r(this.carousel,i),n.on("dragend",function(t){return function(e){return alert("sefe"),e.gesture.deltaX>0?t.prev():t.next()}}(this)))}return t.prototype.setupPagination=function(){var t,e,n,r,i,o,s,a,u,c,l;for(r="<ul class='pagination' data-carousel="+this.carousel.getAttribute("id")+">",u=this.carouselItems,e=i=0,s=u.length;s>i;e=++i)n=u[e],r+="<li class='pagination-item'><a href='javascript:void(0);' title='See another fun fact'>"+("Fun Fact "+e+"</a></li>");for(r+="</ul>",this.carousel.insertAdjacentHTML("beforeBegin",r),this.pagination=document.querySelectorAll("[data-carousel='"+this.carousel.getAttribute("id")+"']")[0],this.paginationItems=this.pagination.childNodes,t=function(t){return function(e,n){return e.childNodes[0].addEventListener("click",function(e){return _gaq.push(["_trackEvent","Carousel","Click",t.carousel,n]),e.preventDefault(),t.currentItem=n,t.goto(t.currentItem),t.carousel.classList.contains("js-carousel--automatic")?(t.stopTimer(),t.startTimer(t.time,n)):void 0})}}(this),c=this.paginationItems,l=[],e=o=0,a=c.length;a>o;e=++o)n=c[e],l.push(t(n,e));return l},t.prototype.goto=function(t){return this.clearAll(),this.paginationItems[t].classList.add("current"),this.carouselItems[t].classList.add("show"),this.carousel.style.height=this.carouselItems[t].scrollHeight+20+"px"},t.prototype.clearAll=function(){var t,e,n,r,i,o,s,a;for(o=this.paginationItems,e=0,r=o.length;r>e;e++)t=o[e],t.classList.contains("current")&&t.classList.remove("current");for(s=this.carouselItems,a=[],n=0,i=s.length;i>n;n++)t=s[n],a.push(t.classList.contains("show")?t.classList.remove("show"):void 0);return a},t.prototype.startTimer=function(t){return this.timer=setInterval(function(t){return function(){return t.next()}}(this),t)},t.prototype.stopTimer=function(){return clearInterval(this.timer)},t.prototype.prev=function(){return 0===this.currentItem?this.currentItem=this.carouselItems.length:this.currentItem--,this.goto(this.currentItem)},t.prototype.next=function(){return this.currentItem===this.numberOfItems-1?this.currentItem=0:this.currentItem++,this.goto(this.currentItem)},t}(),e.exports=n},{hammerjs:17}],5:[function(t,e){var n;n=function(){function t(){this.el={panel:document.getElementsByClassName("morph-button-login")[0],panelContent:document.querySelectorAll(".morph-button-login .morph-button-content")[0],loading:document.querySelectorAll(".morph-button-login .loading")[0],email:document.getElementsByClassName("js-login-email")[0],password:document.getElementsByClassName("js-login-password")[0],loginButton:document.getElementsByClassName("js-login")[0]},this.addEventListeners()}return t.prototype.addEventListeners=function(){return this.el.loginButton.addEventListener("click",function(t){return function(e){return e.preventDefault(),t.login()}}(this))},t.prototype.login=function(){return console.log(this.el.email.value),console.log(this.el.password.value),this.el.loading.classList.remove("loaded"),fetch("http://darrylsnow-darrylsnow.rhcloud.com/auth/local",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.el.email.value,password:this.el.password.value})}).then(function(t){return function(e){return console.log(e),t.el.loading.classList.add("loaded")}}(this))},t}(),e.exports=new n},{}],6:[function(t,e){var n,r;r=t("./morph-buttons.coffee"),n=function(){function t(){this.el={toggleButton:document.getElementsByClassName("menu-toggle")[0],perspective:document.getElementsByClassName("perspective")[0],cover:document.querySelectorAll(".cover")[0],menuItems:document.querySelectorAll(".menu a")},this.menuOpen=!1,this.el.toggleButton&&this.addEventListeners()}return t.prototype.addEventListeners=function(){var t,e,n,r,i;for(this.el.toggleButton.addEventListener("click",function(t){return function(){return _gaq.push(["_trackEvent","Menu","Toggle",t.menuOpen]),t.toggleMenu()}}(this)),this.el.cover.addEventListener("click",function(t){return function(){return _gaq.push(["_trackEvent","Menu","Overlay",t.menuOpen]),t.closeMenu()}}(this)),r=this.el.menuItems,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.addEventListener("click",function(e){return function(){return _gaq.push(["_trackEvent","Menu","Click",t]),e.closeMenu()}}(this)));return i},t.prototype.toggleMenu=function(){return this.menuOpen?this.closeMenu():this.openMenu()},t.prototype.openMenu=function(){return this.el.toggleButton.classList.add("open"),this.el.perspective.classList.add("open"),this.menuOpen=!0,r.closeAll()},t.prototype.closeMenu=function(){return this.el.toggleButton.classList.remove("open"),this.el.perspective.classList.remove("open"),this.menuOpen=!1},t}(),e.exports=new n},{"./morph-buttons.coffee":8}],7:[function(t,e){var n;n=function(){function t(){this.setupTriggers(),this.setupCloseButtons(),this.setupOverlays(),this.addKeyListener()}var e;return e={modals:document.getElementsByClassName("modal"),modalTriggers:document.getElementsByClassName("js-modal-trigger"),modalOverlays:document.getElementsByClassName("modal-overlay"),closeModalButtons:document.getElementsByClassName("js-modal-close")},t.prototype.setupTriggers=function(){var t,n,r,i,o;for(i=e.modalTriggers,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t.addEventListener("click",function(e){return function(n){var r;return n.preventDefault(),_gaq.push(["_trackEvent","Modal Trigger","Click",t]),r=document.getElementById("modal-"+n.target.dataset.modal),e.openModal(r)}}(this)));return o},t.prototype.setupCloseButtons=function(){var t,n,r,i,o;for(i=e.closeModalButtons,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t.addEventListener("click",function(e){return function(n){var r;return n.preventDefault(),_gaq.push(["_trackEvent","Modal Close","Click",t]),r=document.getElementById("modal-"+n.target.dataset.modal),e.closeModal(r)}}(this)));return o},t.prototype.setupOverlays=function(){var t,n,r,i,o;for(i=e.modalOverlays,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t.addEventListener("click",function(e){return function(){return _gaq.push(["_trackEvent","Modal Overlay","Click",t]),e.closeAllModals()}}(this)));return o},t.prototype.addKeyListener=function(){return document.onkeyup=function(t){return function(e){var n;return e=e||window.event,n="number"==typeof e.which?e.which:e.keyCode,27===n?t.closeAllModals():void 0}}(this)},t.prototype.openModal=function(t){return t.classList.add("modal-show")},t.prototype.closeModal=function(t){return t.classList.contains("modal-show")?t.classList.remove("modal-show"):void 0},t.prototype.closeAllModals=function(){var t,n,r,i,o;for(i=e.modals,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(this.closeModal(t));return o},t}(),e.exports=new n},{}],8:[function(t,e){var n;n=function(){function t(){this.el={open:document.getElementsByClassName("morph-button-open"),close:document.getElementsByClassName("morph-button-close"),morphs:document.getElementsByClassName("morph-button")},this.addEventListeners()}return t.prototype.addEventListeners=function(){var t,e,n,r,i,o,s,a;for(o=this.el.open,e=0,r=o.length;r>e;e++)t=o[e],t.addEventListener("click",function(t){return function(e){var n;return e.preventDefault(),n=document.getElementsByClassName("morph-button-"+e.target.dataset.morph)[0],t.openMorph(n)}}(this));for(s=this.el.close,a=[],n=0,i=s.length;i>n;n++)t=s[n],a.push(t.addEventListener("click",function(t){return function(e){var n;return e.preventDefault(),n=document.getElementsByClassName("morph-button-"+e.target.dataset.morph)[0],t.closeMorph(n)}}(this)));return a},t.prototype.openMorph=function(t){return this.closeAll(),t.classList.add("open")},t.prototype.closeMorph=function(t){return t.classList.remove("open")},t.prototype.closeAll=function(){var t,e,n,r,i;for(r=this.el.morphs,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(this.closeMorph(t));return i},t}(),e.exports=new n},{}],9:[function(t,e){var n;n=function(){function t(){this.el={rate:document.getElementsByClassName("rates-number-rate")[0],currency:document.getElementsByClassName("rates-number-currency")[0],conversionButtons:document.getElementsByClassName("js-convert-currency"),loading:document.querySelectorAll(".rates-conversions .loading")[0],spinner:document.querySelectorAll(".rates-conversions .loading-spinner")[0]},this.defaultCurrency="USD",this.rates={USD:0,EUR:0,GBP:0,CNY:0},this.getRates(),this.addEventListeners()}return t.prototype.getRates=function(){return fetch("http://darrylsnow-darrylsnow.rhcloud.com/api/0.1.0/currency").then(function(t){return function(e){return t.rates=JSON.parse(e._body),t.updateUI(t.defaultCurrency),t.hideLoader()}}(this))},t.prototype.updateUI=function(t){var e,n;switch(n="$",t){case"USD":n="$";break;case"EUR":n="€";break;case"GBP":n="£";break;case"CNY":n="¥"}return e=this.rates[t],5===e.toString().length&&(e=e.toString().substr(0,2)+","+e.toString().substr(2)),this.el.rate.innerText=n+e,this.el.currency.innerText=t,this.el.rate.setAttribute("content",e),this.el.currency.setAttribute("content",n)},t.prototype.addEventListeners=function(){var t,e,n,r,i;for(r=this.el.conversionButtons,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.addEventListener("click",function(t){return function(e){return e.preventDefault(),_gaq.push(["_trackEvent","Rare","Click",e.target.dataset.currency]),t.updateUI(e.target.dataset.currency)}}(this)));return i},t.prototype.hideLoader=function(){return this.el.loading.classList.add("loaded"),setTimeout(function(t){return function(){return t.el.spinner.remove()}}(this),400)},t}(),e.exports=new n},{}],10:[function(t,e){var n;n=function(){function t(){this.el={doc:window.document.documentElement,slideSections:document.getElementsByClassName("slide-in"),perspective:document.getElementsByClassName("perspective")[0]},this.viewPortFactor=.2,this.didScroll=!1,window.addEventListener("scroll",function(t){return function(){return t.didScroll=!0}}(this)),setInterval(function(t){return function(){return t.didScroll&&!t.menuIsOpen()?(t.updateSections(),t.didScroll=!1):void 0}}(this),100),this.hasResized=!1,window.addEventListener("resize",function(t){return function(){return t.hasResized=!0}}(this)),setInterval(function(t){return function(){return t.hasResized&&!t.menuIsOpen()?(t.updateSections(),t.hasResized=!1):void 0}}(this),100),this.menuIsOpen()||this.updateSections()}return t.prototype.updateSections=function(){var t,e,n,r,i;for(r=this.el.slideSections,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(this.checkIfVisible(t,this.viewPortFactor));return i},t.prototype.menuIsOpen=function(){return this.el.perspective.classList.contains("open")},t.prototype.checkIfVisible=function(t,e){var n,r,i,o,s,a;return i=t.offsetHeight,n=this.scrollY(),s=n+this.getViewportHeight(),o=this.getOffset(t),r=o+i,e=e||0,a=s>=o+i*e-100&&r>=n,a&&!t.classList.contains("seen")?t.classList.add("seen"):void 0},t.prototype.scrollY=function(){return window.pageYOffset||this.el.doc.scrollTop},t.prototype.getViewportHeight=function(){var t,e;return t=this.el.doc.clientHeight,e=window.innerHeight,e>t?e:t>e?t:t===e?e:void 0},t.prototype.getOffset=function(t){var e;for(e=0;;)if(e+=t.offsetTop,t=t.offsetParent,t===document.body)break;return e},t}(),e.exports=new n},{}],11:[function(t,e){var n;t("es6-promise").polyfill(),t("fetch"),n=function(){function t(){this.el={panel:document.getElementsByClassName("morph-button-subscribe")[0],panelContent:document.querySelectorAll(".morph-button-subscribe .morph-button-content")[0],loading:document.querySelectorAll(".morph-button-subscribe .loading")[0],email:document.getElementsByClassName("js-subscribe-email")[0],subscribeButton:document.getElementsByClassName("js-subscribe")[0]},this.addEventListeners()}return t.prototype.addEventListeners=function(){return this.el.subscribeButton.addEventListener("click",function(t){return function(e){return e.preventDefault(),t.subscribe()}}(this))},t.prototype.subscribe=function(){return console.log(this.el.email.value),this.el.loading.classList.remove("loaded"),fetch("http://darrylsnow-darrylsnow.rhcloud.com/api/0.1.0/subscriptions",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.el.email.value})}).then(function(t){return function(e){return console.log(e),t.el.loading.classList.add("loaded")}}(this))},t}(),e.exports=new n},{"es6-promise":14,fetch:15}],12:[function(t,e){var n;t("es6-promise").polyfill(),t("fetch"),n=function(){function t(){this.el={time:document.getElementsByClassName("weather-time")[0],currentTemp:document.querySelectorAll(".weather-info-temperature span")[0],maxTemp:document.getElementsByClassName("weather-info-temperature-max")[0],minTemp:document.getElementsByClassName("weather-info-temperature-min")[0],icon:document.querySelectorAll(".weather-icon use")[0],loading:document.querySelectorAll(".weather-forecast .loading")[0],spinner:document.querySelectorAll(".weather-forecast .loading-spinner")[0]},this.clock=setInterval(function(t){return function(){return t.updateTime()}}(this),1e3),this.weather={condition:0,currentTemp:0,maxTemp:0,minTemp:0},this.getWeather()}return t.prototype.getTime=function(){return new Date((new Date).getTime()+288e5).toUTCString().replace(" GMT","").substr(-8)},t.prototype.updateTime=function(){var t;return t=this.getTime(),t=t.substr(0,t.length-3),this.el.time?this.el.time.innerText=t:void 0},t.prototype.getWeather=function(){return fetch("http://darrylsnow-darrylsnow.rhcloud.com/api/0.1.0/weather").then(function(t){return function(e){var n,r,i,o;switch(o=JSON.parse(e._body),n=o.condition,r="",i=t.getTime(),n){case"113":r=i.substr(0,2)>18||i.substr(0,2)<=6?"moon":"sun";break;case"116":r=i.substr(0,2)>18||i.substr(0,2)<=6?"cloud":"cloudy";break;case"119":r=i.substr(0,2)>18||i.substr(0,2)<=6?"cloud":"cloudy";break;case"260":r=i.substr(0,2)>18||i.substr(0,2)<=6?"weather2":"weather";break;case"248":r=i.substr(0,2)>18||i.substr(0,2)<=6?"weather2":"weather";break;case"143":r=i.substr(0,2)>18||i.substr(0,2)<=6?"weather2":"weather";break;case"122":r="cloud";break;case"200":r="lightening";break;case"386":r="lightening";break;case"176":r="rainy";break;case"293":r="rainy";break;case"263":r="rainy";break;case"266":r="rainy";break;case"296":r="rainy";break;case"353":r="rainy";break;case"389":r="rainy2";break;case"359":r="rainy2";break;case"308":r="rainy2";break;case"305":r="rainy2";break;case"302":r="rainy2";break;case"299":r="rainy2";break;case"371":r="snowy";break;case"368":r="snowy";break;case"338":r="snowy";break;case"335":r="snowy";break;case"332":r="snowy";break;case"329":r="snowy";break;case"326":r="snowy";break;case"323":r="snowy";break;case"230":r="snowy";break;case"227":r="snowy";break;case"179":r="snowy";break;case"395":r="weather3";break;case"392":r="weather3";break;case"377":r="weather3";break;case"374":r="weather3";break;case"365":r="weather3";break;case"362":r="weather3";break;case"350":r="weather3";break;case"320":r="weather3";break;case"317":r="weather3";break;case"314":r="weather3";break;case"311":r="weather3";break;case"284":r="weather3";break;case"281":r="weather3";break;case"182":r="weather3";break;default:r="sun"}return t.weather={condition:r,currentTemp:o.temperature,maxTemp:o.max,minTemp:o.min},t.el.currentTemp?(t.updateUI(),t.hideLoader()):void 0}}(this))["catch"](function(t){return console.error(t)})},t.prototype.updateUI=function(){return this.el.icon.setAttribute("xlink:href","#icon-"+this.weather.condition),this.el.currentTemp.innerText=this.weather.currentTemp,this.el.maxTemp.innerText=" "+this.weather.maxTemp,this.el.minTemp.innerText=" "+this.weather.minTemp},t.prototype.hideLoader=function(){return this.el.loading.classList.add("loaded"),setTimeout(function(t){return function(){return t.el.spinner.remove()}}(this),400)},t}(),e.exports=new n},{"es6-promise":14,fetch:15}],13:[function(t){"use strict";var e,n,r,i,o,s,a,u,c,l,h,p,f,d,m,v;for(n=t("./components/availability.coffee"),r=t("./components/blog.coffee"),i=t("./components/calendar.coffee"),e=t("./components/carousels.coffee"),a=t("./components/login.coffee"),c=t("./components/modals.coffee"),l=t("./components/morph-buttons.coffee"),u=t("./components/menu.coffee"),h=t("./components/rates.coffee"),p=t("./components/slidein.coffee"),f=t("./components/subscribe.coffee"),d=t("./components/weather.coffee"),s=document.getElementsByClassName("carousel"),m=0,v=s.length;v>m;m++)o=s[m],new e(o,5e3)},{"./components/availability.coffee":1,"./components/blog.coffee":2,"./components/calendar.coffee":3,"./components/carousels.coffee":4,"./components/login.coffee":5,"./components/menu.coffee":6,"./components/modals.coffee":7,"./components/morph-buttons.coffee":8,"./components/rates.coffee":9,"./components/slidein.coffee":10,"./components/subscribe.coffee":11,"./components/weather.coffee":12}],14:[function(t,e){(function(t,n){(function(){"use strict";function r(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(){}function a(){return function(){t.nextTick(h)}}function u(){var t=0,e=new z(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=h,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(h,1)}}function h(){for(var t=0;q>t;t+=2){var e=F[t],n=F[t+1];e(n),F[t]=void 0,F[t+1]=void 0}q=0}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(e){return W.error=e,W}}function v(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function g(t,e,n){R(function(t){var r=!1,i=v(n,e,function(n){r||(r=!0,e!==n?w(t,n):E(t,n))},function(e){r||(r=!0,_(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,_(t,i))},t)}function y(t,e){e._state===H?E(t,e._result):t._state===X?_(t,e._result):A(e,void 0,function(e){w(t,e)},function(e){_(t,e)})}function b(t,e){if(e.constructor===t.constructor)y(t,e);else{var n=m(e);n===W?_(t,W.error):void 0===n?E(t,e):i(n)?g(t,e,n):E(t,e)}}function w(t,e){t===e?_(t,f()):r(e)?b(t,e):E(t,e)}function T(t){t._onerror&&t._onerror(t._result),k(t)}function E(t,e){t._state===Y&&(t._result=e,t._state=H,0===t._subscribers.length||R(k,t))}function _(t,e){t._state===Y&&(t._state=X,t._result=e,R(T,t))}function A(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+H]=n,i[o+X]=r,0===o&&t._state&&R(k,t)}function k(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?S(n,r,i,o):i(o);t._subscribers.length=0}}function I(){this.error=null}function C(t,e){try{return t(e)}catch(n){return J.error=n,J}}function S(t,e,n,r){var o,s,a,u,c=i(n);if(c){if(o=C(n,r),o===J?(u=!0,s=o.error,o=null):a=!0,e===o)return void _(e,d())}else o=r,a=!0;e._state!==Y||(c&&a?w(e,o):u?_(e,s):t===H?E(e,o):t===X&&_(e,o))}function L(t,e){try{e(function(e){w(t,e)},function(e){_(t,e)})}catch(n){_(t,n)}}function N(t,e,n,r){this._instanceConstructor=t,this.promise=new t(p,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):_(this.promise,this._validationError())}function x(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function O(t,e){this._id=Q++,this._label=e,this._state=void 0,this._result=void 0,this._subscribers=[],p!==t&&(i(t)||x(),this instanceof O||M(),L(this,t))}var B;B=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var D,P=B,q=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return s.prototype=t,new s},0),R=function(t,e){F[q]=t,F[q+1]=e,q+=2,2===q&&D()},j="undefined"!=typeof window?window:{},z=j.MutationObserver||j.WebKitMutationObserver,U="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,F=new Array(1e3);D="undefined"!=typeof t&&"[object process]"==={}.toString.call(t)?a():z?u():U?c():l();var Y=void 0,H=1,X=2,W=new I,J=new I;N.prototype._validateInput=function(t){return P(t)},N.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},N.prototype._init=function(){this._result=new Array(this.length)};var G=N;N.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===Y&&t>r;r++)this._eachEntry(n[r],r)},N.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;o(t)?t.constructor===n&&t._state!==Y?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(H,e,t))},N.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===Y&&(this._remaining--,this._abortOnReject&&t===X?_(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&E(r,this._result)},N.prototype._makeResult=function(t,e,n){return n},N.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){n._settledAt(H,e,t)},function(t){n._settledAt(X,e,t)})};var V=function(t,e){return new G(this,t,!0,e).promise},Z=function(t,e){function n(t){w(o,t)}function r(t){_(o,t)}var i=this,o=new i(p,e);if(!P(t))return _(o,new TypeError("You must pass an array to race.")),o;for(var s=t.length,a=0;o._state===Y&&s>a;a++)A(i.resolve(t[a]),void 0,n,r);return o},K=function(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(p,e);return w(r,t),r},$=function(t,e){var n=this,r=new n(p,e);return _(r,t),r},Q=0,te=O;O.all=V,O.race=Z,O.resolve=K,O.reject=$,O.prototype={constructor:O,then:function(t,e,n){var r=this,i=r._state;if(i===H&&!t||i===X&&!e)return this;r._onerror=null;var o=new this.constructor(p,n),s=r._result;if(i){var a=arguments[i-1];R(function(){S(i,o,a,s)})}else A(r,o,t,e);return o},"catch":function(t,e){return this.then(null,t,e)}};var ee=function(){var t;t="undefined"!=typeof n?n:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),i(e)}();e||(t.Promise=te)},ne={Promise:te,polyfill:ee};"function"==typeof define&&define.amd?define(function(){return ne}):"undefined"!=typeof e&&e.exports?e.exports=ne:"undefined"!=typeof this&&(this.ES6Promise=ne)}).call(this)}).call(this,t("+7ZJp0"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"+7ZJp0":16}],15:[function(){!function(){"use strict";function t(e){this.map={};var n=this;e instanceof t?e.forEach(function(t,e){e.forEach(function(e){n.append(t,e)})}):e&&Object.getOwnPropertyNames(e).forEach(function(t){n.append(t,e[t])})}function e(t){return t.bodyUsed?Promise.reject(new TypeError("Body already consumed")):void(t.bodyUsed=!0)}function n(){return this._body=null,this.bodyUsed=!1,this.arrayBuffer=function(){throw new Error("Not implemented yet")},this.blob=function(){var t=e(this);return t?t:Promise.resolve(new Blob([this._body]))},this.formData=function(){var t=e(this);return t?t:Promise.resolve(o(this._body))},this.json=function(){var t=e(this);if(t)return t;var n=this._body;return new Promise(function(t,e){try{t(JSON.parse(n))}catch(r){e(r)}})},this.text=function(){var t=e(this);return t?t:Promise.resolve(this._body)},this}function r(t){var e=t.toUpperCase();return u.indexOf(e)>-1?e:t}function i(e,n){n=n||{},this.url=e,this._body=n.body,this.credentials=n.credentials||null,this.headers=new t(n.headers),this.method=r(n.method||"GET"),this.mode=n.mode||null,this.referrer=null}function o(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function s(e){var n=new t,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(t){var e=t.trim().split(":"),r=e.shift().trim(),i=e.join(":").trim();n.append(r,i)}),n}function a(t,e){this._body=t,this.type="default",this.url=null,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}if(!window.fetch){t.prototype.append=function(t,e){var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},t.prototype["delete"]=function(t){delete this.map[t]},t.prototype.get=function(t){var e=this.map[t];return e?e[0]:null},t.prototype.getAll=function(t){return this.map[t]||[]},t.prototype.has=function(t){return this.map.hasOwnProperty(t)},t.prototype.set=function(t,e){this.map[t]=[e]},t.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})};var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];i.prototype.fetch=function(){var t=this;return new Promise(function(e,n){var r=new XMLHttpRequest;r.onload=function(){var t=1223===r.status?204:r.status;if(100>t||t>599)return void n(new TypeError("Network request failed"));var i={status:t,statusText:r.statusText,headers:s(r)};e(new a(r.responseText,i))},r.onerror=function(){n(new TypeError("Network request failed"))},r.open(t.method,t.url),t.headers.forEach(function(t,e){e.forEach(function(e){r.setRequestHeader(t,e)})}),r.send(void 0===t._body?null:t._body)})},n.call(i.prototype),n.call(a.prototype),window.fetch=function(t,e){return new i(t,e).fetch()}}}()},{}],16:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],17:[function(t,e){!function(t,n,r,i){"use strict";function o(t,e,n){return setTimeout(h(t,n),e)}function s(t,e,n){return Array.isArray(t)?(a(t,n[e],n),!0):!1}function a(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function u(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function c(t,e){return u(t,e,!0)}function l(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&u(r,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==he?t.apply(e?e[0]||i:i,e):t}function f(t,e){return t===i?e:t}function d(t,e,n){a(y(e),function(e){t.addEventListener(e,n,!1)})}function m(t,e,n){a(y(e),function(e){t.removeEventListener(e,n,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function y(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);
for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function T(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];b(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function E(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<ce.length;){if(n=ce[s],r=n?n+o:e,r in t)return r;s++}return i}function _(){return me++}function A(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&n.handler(e)},this.init()}function I(t){var e,n=t.options.inputClass;return new(e=n?n:ye?z:be?Y:ge?X:j)(t,C)}function C(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&ke&&r-i===0,s=e&(Ce|Se)&&r-i===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,S(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function S(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=x(e)),i>1&&!n.firstMultiple?n.firstMultiple=x(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=M(r);e.timeStamp=de(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=P(a,u),e.distance=D(a,u),L(n,e),e.offsetDirection=B(e.deltaX,e.deltaY),e.scale=s?R(s.pointers,r):1,e.rotation=s?q(s.pointers,r):0,N(n,e);var c=t.element;v(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function L(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};(e.eventType===ke||o.eventType===Ce)&&(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function N(t,e){var n,r,o,s,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Se&&(u>Ae||a.velocity===i)){var c=a.deltaX-e.deltaX,l=a.deltaY-e.deltaY,h=O(u,c,l);r=h.x,o=h.y,n=fe(h.x)>fe(h.y)?h.x:h.y,s=B(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function x(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:pe(t.pointers[n].clientX),clientY:pe(t.pointers[n].clientY)},n++;return{timeStamp:de(),pointers:e,center:M(e),deltaX:t.deltaX,deltaY:t.deltaY}}function M(t){var e=t.length;if(1===e)return{x:pe(t[0].clientX),y:pe(t[0].clientY)};for(var n=0,r=0,i=0;e>i;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:pe(n/e),y:pe(r/e)}}function O(t,e,n){return{x:e/t||0,y:n/t||0}}function B(t,e){return t===e?Le:fe(t)>=fe(e)?t>0?Ne:xe:e>0?Me:Oe}function D(t,e,n){n||(n=qe);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function P(t,e,n){n||(n=qe);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function q(t,e){return P(e[1],e[0],Re)-P(t[1],t[0],Re)}function R(t,e){return D(e[0],e[1],Re)/D(t[0],t[1],Re)}function j(){this.evEl=ze,this.evWin=Ue,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function z(){this.evEl=He,this.evWin=Xe,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function U(){this.evTarget=Je,this.evWin=Ge,this.started=!1,k.apply(this,arguments)}function F(t,e){var n=w(t.touches),r=w(t.changedTouches);return e&(Ce|Se)&&(n=T(n.concat(r),"identifier",!0)),[n,r]}function Y(){this.evTarget=Ze,this.targetIds={},k.apply(this,arguments)}function H(t,e){var n=w(t.touches),r=this.targetIds;if(e&(ke|Ie)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=w(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return v(t.target,u)}),e===ke)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(Ce|Se)&&delete r[s[i].identifier],i++;return a.length?[T(o.concat(a),"identifier",!0),a]:void 0}function X(){k.apply(this,arguments);var t=h(this.handler,this);this.touch=new Y(this.manager,t),this.mouse=new j(this.manager,t)}function W(t,e){this.manager=t,this.set(e)}function J(t){if(g(t,nn))return nn;var e=g(t,rn),n=g(t,on);return e&&n?rn+" "+on:e||n?e?rn:on:g(t,en)?en:tn}function G(t){this.id=_(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=sn,this.simultaneous={},this.requireFail=[]}function V(t){return t&hn?"cancel":t&cn?"end":t&un?"move":t&an?"start":""}function Z(t){return t==Oe?"down":t==Me?"up":t==Ne?"left":t==xe?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function $(){G.apply(this,arguments)}function Q(){$.apply(this,arguments),this.pX=null,this.pY=null}function te(){$.apply(this,arguments)}function ee(){G.apply(this,arguments),this._timer=null,this._input=null}function ne(){$.apply(this,arguments)}function re(){$.apply(this,arguments)}function ie(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function oe(t,e){return e=e||{},e.recognizers=f(e.recognizers,oe.defaults.preset),new se(t,e)}function se(t,e){e=e||{},this.options=c(e,oe.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=I(this),this.touchAction=new W(this,this.options.touchAction),ae(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ae(t,e){var n=t.element;a(t.options.cssProps,function(t,r){n.style[E(n.style,r)]=e?t:""})}function ue(t,e){var r=n.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var ce=["","webkit","moz","MS","ms","o"],le=n.createElement("div"),he="function",pe=Math.round,fe=Math.abs,de=Date.now,me=1,ve=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in t,ye=E(t,"PointerEvent")!==i,be=ge&&ve.test(navigator.userAgent),we="touch",Te="pen",Ee="mouse",_e="kinect",Ae=25,ke=1,Ie=2,Ce=4,Se=8,Le=1,Ne=2,xe=4,Me=8,Oe=16,Be=Ne|xe,De=Me|Oe,Pe=Be|De,qe=["x","y"],Re=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(A(this.element),this.evWin,this.domHandler)}};var je={mousedown:ke,mousemove:Ie,mouseup:Ce},ze="mousedown",Ue="mousemove mouseup";l(j,k,{handler:function(t){var e=je[t.type];e&ke&&0===t.button&&(this.pressed=!0),e&Ie&&1!==t.which&&(e=Ce),this.pressed&&this.allow&&(e&Ce&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ee,srcEvent:t}))}});var Fe={pointerdown:ke,pointermove:Ie,pointerup:Ce,pointercancel:Se,pointerout:Se},Ye={2:we,3:Te,4:Ee,5:_e},He="pointerdown",Xe="pointermove pointerup pointercancel";t.MSPointerEvent&&(He="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),l(z,k,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Fe[r],o=Ye[t.pointerType]||t.pointerType,s=o==we,a=b(e,t.pointerId,"pointerId");i&ke&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):i&(Ce|Se)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var We={touchstart:ke,touchmove:Ie,touchend:Ce,touchcancel:Se},Je="touchstart",Ge="touchstart touchmove touchend touchcancel";l(U,k,{handler:function(t){var e=We[t.type];if(e===ke&&(this.started=!0),this.started){var n=F.call(this,t,e);e&(Ce|Se)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:we,srcEvent:t})}}});var Ve={touchstart:ke,touchmove:Ie,touchend:Ce,touchcancel:Se},Ze="touchstart touchmove touchend touchcancel";l(Y,k,{handler:function(t){var e=Ve[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:we,srcEvent:t})}}),l(X,k,{handler:function(t,e,n){var r=n.pointerType==we,i=n.pointerType==Ee;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;e&(Ce|Se)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=E(le.style,"touchAction"),$e=Ke!==i,Qe="compute",tn="auto",en="manipulation",nn="none",rn="pan-x",on="pan-y";W.prototype={set:function(t){t==Qe&&(t=this.compute()),$e&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),J(t.join(" "))},preventDefaults:function(t){if(!$e){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=g(r,nn),o=g(r,on),s=g(r,rn);return i||o&&n&Be||s&&n&De?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var sn=1,an=2,un=4,cn=8,ln=cn,hn=16,pn=32;G.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=K(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?V(r):""),t)}var n=this,r=this.state;cn>r&&e(!0),e(),r>=cn&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=pn)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(pn|sn)))return!1;t++}return!0},recognize:function(t){var e=u({},t);return p(this.options.enable,[this,e])?(this.state&(ln|hn|pn)&&(this.state=sn),this.state=this.process(e),void(this.state&(an|un|cn|hn)&&this.tryEmit(e))):(this.reset(),void(this.state=pn))},process:function(){},getTouchAction:function(){},reset:function(){}},l($,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(an|un),i=this.attrTest(t);return r&&(n&Se||!i)?e|hn:r||i?n&Ce?e|cn:e&an?e|un:an:pn}}),l(Q,$,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pe},getTouchAction:function(){var t=this.options.direction,e=[];return t&Be&&e.push(on),t&De&&e.push(rn),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Be?(i=0===o?Le:0>o?Ne:xe,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?Le:0>s?Me:Oe,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return $.prototype.attrTest.call(this,t)&&(this.state&an||!(this.state&an)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Z(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(te,$,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[nn]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&an)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(ee,G,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[tn]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Ce|Se)&&!i)this.reset();else if(t.eventType&ke)this.reset(),this._timer=o(function(){this.state=ln,this.tryEmit()},e.time,this);else if(t.eventType&Ce)return ln;return pn},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ln&&(t&&t.eventType&Ce?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=de(),this.manager.emit(this.options.event,this._input)))}}),l(ne,$,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[nn]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&an)}}),l(re,$,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Be|De,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Be|De)?e=t.velocity:n&Be?e=t.velocityX:n&De&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&fe(e)>this.options.velocity&&t.eventType&Ce},emit:function(t){var e=Z(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(ie,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[en]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&ke&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=Ce)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=o(function(){this.state=ln,this.tryEmit()},e.interval,this),an):ln}return pn},failTimeout:function(){return this._timer=o(function(){this.state=pn},this.options.interval,this),pn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ln&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),oe.VERSION="2.0.4",oe.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[ne,{enable:!1}],[te,{enable:!1},["rotate"]],[re,{direction:Be}],[Q,{direction:Be},["swipe"]],[ie],[ie,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fn=1,dn=2;se.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?dn:fn},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&ln)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],e.stopped===dn||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(an|un|cn)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return a(y(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return a(y(t),function(t){e?n[t].splice(b(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ue(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(oe,{INPUT_START:ke,INPUT_MOVE:Ie,INPUT_END:Ce,INPUT_CANCEL:Se,STATE_POSSIBLE:sn,STATE_BEGAN:an,STATE_CHANGED:un,STATE_ENDED:cn,STATE_RECOGNIZED:ln,STATE_CANCELLED:hn,STATE_FAILED:pn,DIRECTION_NONE:Le,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:xe,DIRECTION_UP:Me,DIRECTION_DOWN:Oe,DIRECTION_HORIZONTAL:Be,DIRECTION_VERTICAL:De,DIRECTION_ALL:Pe,Manager:se,Input:k,TouchAction:W,TouchInput:Y,MouseInput:j,PointerEventInput:z,TouchMouseInput:X,SingleTouchInput:U,Recognizer:G,AttrRecognizer:$,Tap:ie,Pan:Q,Swipe:re,Pinch:te,Rotate:ne,Press:ee,on:d,off:m,each:a,merge:c,extend:u,inherit:l,bindFn:h,prefixed:E}),typeof define==he&&define.amd?define(function(){return oe}):"undefined"!=typeof e&&e.exports?e.exports=oe:t[r]=oe}(window,document,"Hammer")},{}]},{},[13]);